(window.webpackJsonp_test=window.webpackJsonp_test||[]).push([[5],{300:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n(838),r=n.n(a),i=(n(834),n(363)),c=n.n(i),m=(n(362),n(837)),h=n.n(m),p=n(554),s=n.n(p),u=(n(847),n(34)),l=n(646),d=n.n(l),_=n(55),f=n(984);var g=o.memo((function(e){var t=function e(t){return t.map((function(t){var n=t.title,a=t.paths;return t.children?o.createElement(d.a,{key:a,title:o.createElement("span",null,o.createElement("span",null,n)),icon:o.createElement(f.a,null)},e(t.children)):o.createElement(s.a.Item,{key:a},o.createElement(u.b,{to:a},o.createElement("span",null,n)))}))}(e.menuList),n=e.currentUrl,a=e.expandList,r=o.useContext(_.a).gState;return o.createElement(s.a,{mode:"inline",defaultSelectedKeys:[n],defaultOpenKeys:a,inlineCollapsed:r.collapsed},t)}));var y=n(985),b=n(986),E=n(987),v=n(862),O=n.n(v),j=(n(859),n(861)),S=n.n(j),w=n(39);function C(){var e={logout:function(){console.log("logout")},changePwd:function(){console.log("changePwd")}},t=e.logout,n=e.changePwd,a=o.useContext(_.a),r=a.dispatch,i=a.gState;return o.createElement("div",{className:S.a.header},o.createElement("div",{className:S.a.main},o.createElement("div",{className:S.a.container},o.createElement("div",{className:S.a.headerLeft},o.createElement("div",{className:S.a.logoContainer},o.createElement("div",{className:S.a.foldIcon,onClick:function(){return r({type:w.a.SET_COLLAPSED})}},o.createElement(i.collapsed?y.a:b.a)),o.createElement("div",{className:S.a.headerLogo},o.createElement("span",null,"👑风控4.0系统")))),o.createElement("div",{className:S.a.headerRight},o.createElement(O.a,{content:o.createElement("div",{className:"actions"},o.createElement("a",{onClick:t,className:"a-link"},"注销"),o.createElement("p",null),o.createElement("a",{onClick:n,className:"a-link"},"修改密码")),placement:"bottom"},o.createElement(E.a,null))))))}var N=n(3),I=function(){},T=n(314),k=n(327),R=n(967),L=n(515),M=function(e){function t(){var t=e.call(this)||this;return t.requestService=new T.a,console.log(t.requestService),t}return Object(N.d)(t,e),t.prototype.getMenuAndAuthKeys=function(){var e=L.b.MENU;return k.a.create((function(t){t.next({data:e}),t.complete()})).pipe(Object(R.a)(500))},t}(I),W=function(){function e(){this.menuItems=[],this.currentPath=""}return e.prototype.updateMenuByRoutes=function(e){return this.menuItems=this.convertRoutesToMenus(e),this.menuItems},e.prototype.convertRoutesToMenus=function(e){return this.convertArrayToItems(e)},e.prototype.convertArrayToItems=function(e,t){var n=this,o=[];return e.forEach((function(e){o.push(n.convertObjectToItem(e,t))})),o},e.prototype.convertObjectToItem=function(e,t){var n=e;return n.paths=t&&t.paths?t.paths.slice(0):"",n.path&&(n.paths+="/"+n.path),e.children&&e.children.length>0&&(n.children=this.convertArrayToItems(e.children,n)),n},e}(),A=n(307),B=function(){this.loading=!0,this.menuList=[]};function q(){Object(A.b)(M);var e=Object(A.b)(W),t=Object(A.c)(new B),n=t.state,a=t.setStateWrap;return Object(o.useEffect)((function(){a({menuList:e.updateMenuByRoutes(L.b.MENU),loading:!1})}),[]),{state:n}}var D=n(5),U=n(54),H=[{path:"home",component:n(36).a.electricFenceManage,lazyload:!0}],P=n(323);t.default=o.memo((function(e){var t,n,a=q().state,i=Object(P.c)("source"),m=o.useContext(_.a).gState,p=Object(D.g)();return o.useEffect((function(){console.log("token",Object(P.c)("token")),localStorage.setItem("TOKENINFO",Object(P.c)("token"))}),[]),o.createElement(c.a,{spinning:a.loading,wrapperClassName:"custom-layout-spin"},o.createElement(r.a,null,o.createElement("div",{className:h.a.homeMain},!i&&o.createElement(C,null),o.createElement("div",{className:h.a.bodyContainer,style:{paddingTop:i?"1rem":"6.75rem"}},!i&&(t=p.pathname,n=function(e){var t="",n=[];return e.split("/").filter((function(e){return e})).forEach((function(e){t+="/"+e,n.push(t)})),n}(t),o.createElement(r.a.Sider,{trigger:null,collapsible:!0,collapsed:m.collapsed},o.createElement(g,{currentUrl:t,menuList:a.menuList,expandList:n}))),o.createElement("div",{className:h.a.pageContainer},o.createElement(r.a.Content,null,U.a.renderRoutes(H)))))))}))},307:function(e,t,n){"use strict";var o=n(3),a=n(0),r=function(){};function i(e){var t=Object(a.useState)(e),n=t[0],r=t[1],i=n;return{state:n,setStateWrap:function(e,t){return r((function(n){return i=Object(o.a)(Object(o.a)({},n),e),t&&t(i),i})),i},getState:function(){return i}}}n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return m})),n.d(t,"b",(function(){return h}));var c=function(){function e(e){this.props=e,this.dispatch=r}return e.prototype.useReducer=function(e,t){var n=Object(a.useReducer)(e,t),o=n[0],r=n[1];return this.dispatch=r,this.state=o,{state:o,dispatch:r}},e}();function m(e,t){return Object(a.useMemo)((function(){return new e(t)}),[])}function h(e,t){return Object(a.useMemo)((function(){return new e(t)}),[])}},313:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var o=function(){function e(){}return e.Inject=function(e){return function(t,n){if("function"!=typeof e)throw new TypeError("Only class is injectable.");if(!e.__injectable)throw new TypeError("Class "+e.name+" is not injectable.");t[n]=new e}},e.Injectable=function(){return function(e){e.__injectable=!0}},e}()},314:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var o=n(3),a=n(353),r=n.n(a),i=n(327),c=n(611),m=n(977),h=n(983),p=n(313),s=n(978),u=n(214),l=n.n(u),d=(n(329),function(){function e(){this._httpClient=r.a.create()}return e.prototype.createAuthHeaders=function(){var e={token:""},t=localStorage.getItem("TOKENINFO");return t&&(e.token=t),e},e.prototype.getRootUrl=function(e){return~e.indexOf("VerifyCode")?"https://ifch.i-cbao.com/login":"http://ifch.i-cbao.com/gpsefapi/api/"},e.prototype._makeRequest=function(e,t,n,o){var a;return void 0===o&&(o="json"),a="post"==e||"put"==e?this._httpClient[e](this.getRootUrl(t)+t,n,{headers:this.createAuthHeaders(),responseType:o,timeout:3e5}):this._httpClient[e](this.getRootUrl(t)+t,{params:n,headers:this.createAuthHeaders(),responseType:o,timeout:3e5}),new i.a((function(e){a.then((function(t){e.next(t.data),e.complete()})).catch((function(t){e.error(t),e.complete()}))}))},e.prototype.get=function(e,t){var n=this;return this._makeRequest("get",e,t).pipe(Object(m.a)((function(e){return n.dealWithError(e)})),Object(h.a)(this.handleError))},e.prototype.post=function(e,t){var n=this;return this._makeRequest("post",e,t).pipe(Object(m.a)((function(e){return n.dealWithError(e)})),Object(h.a)(this.handleError))},e.prototype.put=function(e,t){var n=this;return this._makeRequest("put",e,t).pipe(Object(m.a)((function(e){return n.dealWithError(e)})),Object(h.a)(this.handleError))},e.prototype.delete=function(e,t){var n=this;return this._makeRequest("delete",e,t).pipe(Object(m.a)((function(e){return n.dealWithError(e)})),Object(h.a)(this.handleError))},e.prototype.getDownload=function(e,t){var n=this;return this._makeRequest("get",e,t,"arraybuffer").pipe(Object(m.a)((function(e){return n.dealWithError(e)})),Object(h.a)(this.handleError))},e.prototype.postDownload=function(e,t){var n=this;return this._makeRequest("post",e,t,"arraybuffer").pipe(Object(m.a)((function(e){return n.dealWithError(e)})),Object(h.a)(this.handleError))},e.prototype.handleError=function(e){if(void 0===e||"ECONNABORTED"===e.code)e="服务请求超时";else if(e.response){var t=e.response.status;t&&parseInt(t)>=500?e="服务器错误，请联系管理员。":401===t?(location.href="",e="登录失效，请重新登录。"):t&&parseInt(t)>=400&&(e="页面找不到了，请联系管理员。")}else"Network Error"==e.message&&(e="请检查网络。");return s.a({PROJECT:"fchH5",ERROR:e}),l.a.error(e),Object(c.a)(e)},e.prototype.dealWithError=function(e){if((e=e).status)return e.total||0==e.total?{total:e.total,data:e.data}:0==e.data||e.data?e.data:e;if(401===e.code||401===e.StatusCode)throw location.href="","登录失效，请重新登录！";throw e.message},e=Object(o.c)([p.a.Injectable(),Object(o.f)("design:paramtypes",[])],e)}())},323:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return r}));n(1);var o=function(e,t){return e="Invalid date"!=e&&Date.parse(new Date(e)+"")};function a(e,t){var n=null;return function(o){console.log(1),clearTimeout(n),n=setTimeout((function(){e(o)}),t)}}function r(e){var t=function(){try{for(var e=(location.hash||"").split("?")[1].split("&"),t={},n=0;n<e.length;n++){var o=e[n].split("=");2===o.length&&(t[o[0]]=o[1])}return t}catch(e){return""}}();return t&&t[e]}},515:function(e,t,n){"use strict";var o;n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),function(e){e[e.Province=0]="Province",e[e.City=1]="City",e[e.Area=2]="Area"}(o||(o={}));var a=10,r={MENU:[{path:"home",title:"电子围栏",icon:"container",children:[{path:"mainfence",title:"围栏管理",icon:"container"},{path:"fenceAttention",title:"围栏告警",icon:"container"},{path:"monitoringObject",title:"监控对象",icon:"container"}]}]}},837:function(e,t,n){e.exports={"body-container":"home-component__body-container--2zCdI",bodyContainer:"home-component__body-container--2zCdI","home-main":"home-component__home-main--3wonH",homeMain:"home-component__home-main--3wonH","page-container":"home-component__page-container--TQ04l",pageContainer:"home-component__page-container--TQ04l","login-form":"home-component__login-form--3jMWQ",loginForm:"home-component__login-form--3jMWQ","ant-form-item":"home-component__ant-form-item--3yYhu",antFormItem:"home-component__ant-form-item--3yYhu","ant-input":"home-component__ant-input--1v8B-",antInput:"home-component__ant-input--1v8B-",root:"home-component__root--gBB5F","custom-layout":"home-component__custom-layout--1qHJ2",customLayout:"home-component__custom-layout--1qHJ2","ant-layout":"home-component__ant-layout--CBYsb",antLayout:"home-component__ant-layout--CBYsb","ant-layout-has-sider":"home-component__ant-layout-has-sider--DzfXQ",antLayoutHasSider:"home-component__ant-layout-has-sider--DzfXQ","ant-spin-nested-loading":"home-component__ant-spin-nested-loading--2Gyck",antSpinNestedLoading:"home-component__ant-spin-nested-loading--2Gyck","custom-layout-spin":"home-component__custom-layout-spin--Zpw-f",customLayoutSpin:"home-component__custom-layout-spin--Zpw-f","ant-spin-container":"home-component__ant-spin-container--1NMTd",antSpinContainer:"home-component__ant-spin-container--1NMTd","ant-spin":"home-component__ant-spin--2JeTc",antSpin:"home-component__ant-spin--2JeTc","ant-spin-spinning":"home-component__ant-spin-spinning--1iEW5",antSpinSpinning:"home-component__ant-spin-spinning--1iEW5","ant-tree":"home-component__ant-tree--1-Gp4",antTree:"home-component__ant-tree--1-Gp4","ant-tree-node-content-wrapper":"home-component__ant-tree-node-content-wrapper--1JZn_",antTreeNodeContentWrapper:"home-component__ant-tree-node-content-wrapper--1JZn_",h40:"home-component__h40--1-Q9f","push-search-item":"home-component__push-search-item--y3EVm",pushSearchItem:"home-component__push-search-item--y3EVm",label:"home-component__label--9VkYI","ant-btn":"home-component__ant-btn--cGnL4",antBtn:"home-component__ant-btn--cGnL4","ant-select":"home-component__ant-select--2ArYN",antSelect:"home-component__ant-select--2ArYN","other-search-button-item":"home-component__other-search-button-item--2A2SX",otherSearchButtonItem:"home-component__other-search-button-item--2A2SX","ant-radio-group":"home-component__ant-radio-group--2qTO2",antRadioGroup:"home-component__ant-radio-group--2qTO2"}},861:function(e,t,n){e.exports={trigger:"i-home-header-component__trigger--1Nblw",header:"i-home-header-component__header--1c9FQ",main:"i-home-header-component__main--ARvNI",container:"i-home-header-component__container--3ZQtq","header-left":"i-home-header-component__header-left--1tOBt",headerLeft:"i-home-header-component__header-left--1tOBt","logo-container":"i-home-header-component__logo-container--PkdOq",logoContainer:"i-home-header-component__logo-container--PkdOq","fold-icon":"i-home-header-component__fold-icon--2XMW_",foldIcon:"i-home-header-component__fold-icon--2XMW_","header-logo":"i-home-header-component__header-logo--APm_h",headerLogo:"i-home-header-component__header-logo--APm_h","header-right":"i-home-header-component__header-right--2hODr",headerRight:"i-home-header-component__header-right--2hODr",setting:"i-home-header-component__setting--2pEs3","login-form":"i-home-header-component__login-form--32QWC",loginForm:"i-home-header-component__login-form--32QWC","ant-form-item":"i-home-header-component__ant-form-item--1E4P2",antFormItem:"i-home-header-component__ant-form-item--1E4P2","ant-input":"i-home-header-component__ant-input--1mmWt",antInput:"i-home-header-component__ant-input--1mmWt",root:"i-home-header-component__root--3Qi34","custom-layout":"i-home-header-component__custom-layout--239rD",customLayout:"i-home-header-component__custom-layout--239rD","ant-layout":"i-home-header-component__ant-layout--3SO34",antLayout:"i-home-header-component__ant-layout--3SO34","ant-layout-has-sider":"i-home-header-component__ant-layout-has-sider--3iD82",antLayoutHasSider:"i-home-header-component__ant-layout-has-sider--3iD82","ant-spin-nested-loading":"i-home-header-component__ant-spin-nested-loading--3O9Uj",antSpinNestedLoading:"i-home-header-component__ant-spin-nested-loading--3O9Uj","custom-layout-spin":"i-home-header-component__custom-layout-spin--1BOca",customLayoutSpin:"i-home-header-component__custom-layout-spin--1BOca","ant-spin-container":"i-home-header-component__ant-spin-container--28fMZ",antSpinContainer:"i-home-header-component__ant-spin-container--28fMZ","ant-spin":"i-home-header-component__ant-spin--2vHp3",antSpin:"i-home-header-component__ant-spin--2vHp3","ant-spin-spinning":"i-home-header-component__ant-spin-spinning--2ReUH",antSpinSpinning:"i-home-header-component__ant-spin-spinning--2ReUH","ant-tree":"i-home-header-component__ant-tree--2_vKy",antTree:"i-home-header-component__ant-tree--2_vKy","ant-tree-node-content-wrapper":"i-home-header-component__ant-tree-node-content-wrapper--2VrCS",antTreeNodeContentWrapper:"i-home-header-component__ant-tree-node-content-wrapper--2VrCS",h40:"i-home-header-component__h40--7Md7e","push-search-item":"i-home-header-component__push-search-item--32r7z",pushSearchItem:"i-home-header-component__push-search-item--32r7z",label:"i-home-header-component__label--8kJTU","ant-btn":"i-home-header-component__ant-btn--2XwQ0",antBtn:"i-home-header-component__ant-btn--2XwQ0","ant-select":"i-home-header-component__ant-select--1aLUD",antSelect:"i-home-header-component__ant-select--1aLUD","other-search-button-item":"i-home-header-component__other-search-button-item--1kao4",otherSearchButtonItem:"i-home-header-component__other-search-button-item--1kao4","ant-radio-group":"i-home-header-component__ant-radio-group--15wV0",antRadioGroup:"i-home-header-component__ant-radio-group--15wV0"}}}]);