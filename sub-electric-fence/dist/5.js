(window.webpackJsonp_test=window.webpackJsonp_test||[]).push([[5],{308:function(e,t,n){"use strict";var o=n(3),i=n(0),r=function(){};function a(e){var t=Object(i.useState)(e),n=t[0],r=t[1],a=n;return{state:n,setStateWrap:function(e,t){return r((function(n){return a=Object(o.a)(Object(o.a)({},n),e),t&&t(a),a})),a},getState:function(){return a}}}n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return u}));var c=function(){function e(e){this.props=e,this.dispatch=r}return e.prototype.useReducer=function(e,t){var n=Object(i.useReducer)(e,t),o=n[0],r=n[1];return this.dispatch=r,this.state=o,{state:o,dispatch:r}},e}();function s(e,t){return Object(i.useMemo)((function(){return new e(t)}),[])}function u(e,t){return Object(i.useMemo)((function(){return new e(t)}),[])}},340:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var o=function(){function e(){}return e.Inject=function(e){return function(t,n){if("function"!=typeof e)throw new TypeError("Only class is injectable.");if(!e.__injectable)throw new TypeError("Class "+e.name+" is not injectable.");t[n]=new e}},e.Injectable=function(){return function(e){e.__injectable=!0}},e}()},352:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var o=n(3),i=n(412),r=n.n(i),a=n(322),c=n(566),s=n(963),u=n(969),l=n(340),h=n(964),p=function(){function t(){this._httpClient=r.a.create()}return t.prototype.createAuthHeaders=function(){var e={token:""},t=localStorage.getItem("TOKENINFO");return t&&(e.token=t),e},t.prototype.getRootUrl=function(t){e.env.MAIN;return~t.indexOf("VerifyCode")?"http://192.168.0.252:7008/api":e.env.MAIN},t.prototype._makeRequest=function(e,t,n,o){var i;return void 0===o&&(o="json"),i="post"==e||"put"==e?this._httpClient[e](this.getRootUrl(t)+t,n,{headers:this.createAuthHeaders(),responseType:o,timeout:3e5}):this._httpClient[e](this.getRootUrl(t)+t,{params:n,headers:this.createAuthHeaders(),responseType:o,timeout:3e5}),new a.a((function(e){i.then((function(t){e.next(t.data),e.complete()})).catch((function(t){e.error(t),e.complete()}))}))},t.prototype.get=function(e,t){var n=this;return this._makeRequest("get",e,t).pipe(Object(s.a)((function(e){return n.dealWithError(e)})),Object(u.a)(this.handleError))},t.prototype.post=function(e,t){var n=this;return this._makeRequest("post",e,t).pipe(Object(s.a)((function(e){return n.dealWithError(e)})),Object(u.a)(this.handleError))},t.prototype.put=function(e,t){var n=this;return this._makeRequest("put",e,t).pipe(Object(s.a)((function(e){return n.dealWithError(e)})),Object(u.a)(this.handleError))},t.prototype.delete=function(e,t){var n=this;return this._makeRequest("delete",e,t).pipe(Object(s.a)((function(e){return n.dealWithError(e)})),Object(u.a)(this.handleError))},t.prototype.getDownload=function(e,t){var n=this;return this._makeRequest("get",e,t,"arraybuffer").pipe(Object(s.a)((function(e){return n.dealWithError(e)})),Object(u.a)(this.handleError))},t.prototype.postDownload=function(e,t){var n=this;return this._makeRequest("post",e,t,"arraybuffer").pipe(Object(s.a)((function(e){return n.dealWithError(e)})),Object(u.a)(this.handleError))},t.prototype.handleError=function(e){if(void 0===e||"ECONNABORTED"===e.code)e="服务请求超时";else if(e.response){var t=e.response.status;t&&parseInt(t)>=500?e="服务器错误，请联系管理员。":401===t?(localStorage.getItem("TOKENINFO"),e="登录失效，请重新登录。"):t&&parseInt(t)>=400&&(e="页面找不到了，请联系管理员。")}else"Network Error"==e.message&&(e="请检查网络。");return h.a({PROJECT:"fchH5",ERROR:e}),Object(c.a)(e)},t.prototype.dealWithError=function(e){if(console.log(e),(e=e).status)return e.total||0==e.total?{total:e.total,data:e.data}:0==e.data||e.data?e.data:e;if(401===e.code||401===e.StatusCode)throw"登录失效，请重新登录！";throw e.message},t=Object(o.c)([l.a.Injectable(),Object(o.f)("design:paramtypes",[])],t)}()}).call(this,n(214))},733:function(e,t,n){e.exports={main:"login-component__main--37U0T",stage:"login-component__stage--MU8JX",left:"login-component__left--g-deV",leftCover:"login-component__leftCover--1dsPn",right:"login-component__right--eCBKT",welcome:"login-component__welcome--2FrVw",siteTitleBox:"login-component__siteTitleBox--39gbt",loginBox:"login-component__loginBox--2zjZa",loginBtn:"login-component__loginBtn--3l_hV",formFlexItem:"login-component__formFlexItem--r1DcR",vcodeInput:"login-component__vcodeInput--SvN-l",vcodeBox:"login-component__vcodeBox--2WVJ2","login-form":"login-component__login-form--2oYLE",loginForm:"login-component__login-form--2oYLE","ant-form-item":"login-component__ant-form-item--NG2ve",antFormItem:"login-component__ant-form-item--NG2ve","ant-input":"login-component__ant-input--3h7hi",antInput:"login-component__ant-input--3h7hi",root:"login-component__root--1JtBP","custom-layout":"login-component__custom-layout--2Jh6-",customLayout:"login-component__custom-layout--2Jh6-","ant-layout":"login-component__ant-layout--3xcQH",antLayout:"login-component__ant-layout--3xcQH","ant-layout-has-sider":"login-component__ant-layout-has-sider--1BFV3",antLayoutHasSider:"login-component__ant-layout-has-sider--1BFV3","ant-spin-nested-loading":"login-component__ant-spin-nested-loading--1lxt2",antSpinNestedLoading:"login-component__ant-spin-nested-loading--1lxt2","custom-layout-spin":"login-component__custom-layout-spin--24lce",customLayoutSpin:"login-component__custom-layout-spin--24lce","ant-spin-container":"login-component__ant-spin-container--2n06m",antSpinContainer:"login-component__ant-spin-container--2n06m","ant-spin":"login-component__ant-spin--313c0",antSpin:"login-component__ant-spin--313c0","ant-spin-spinning":"login-component__ant-spin-spinning--12A9Q",antSpinSpinning:"login-component__ant-spin-spinning--12A9Q","ant-tree":"login-component__ant-tree--2JbLX",antTree:"login-component__ant-tree--2JbLX","ant-tree-node-content-wrapper":"login-component__ant-tree-node-content-wrapper--3cUEz",antTreeNodeContentWrapper:"login-component__ant-tree-node-content-wrapper--3cUEz",h40:"login-component__h40--3JSkQ","push-search-item":"login-component__push-search-item--1Kixc",pushSearchItem:"login-component__push-search-item--1Kixc",label:"login-component__label--207Zc","ant-btn":"login-component__ant-btn--3mhIX",antBtn:"login-component__ant-btn--3mhIX","ant-select":"login-component__ant-select--3e0U3",antSelect:"login-component__ant-select--3e0U3","other-search-button-item":"login-component__other-search-button-item--3EWtU",otherSearchButtonItem:"login-component__other-search-button-item--3EWtU","ant-radio-group":"login-component__ant-radio-group--288Es",antRadioGroup:"login-component__ant-radio-group--288Es"}},740:function(e,t,n){"use strict";n(303),n(741)},741:function(e,t,n){},957:function(e,t,n){"use strict";var o=n(3),i=n(390),r=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.scheduler=t,o.work=n,o.pending=!1,o}return o.d(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,o=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(o,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(o,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,o=void 0;try{this.work(e)}catch(e){n=!0,o=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),o},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,o=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==o&&n.splice(o,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(function(e){function t(t,n){return e.call(this)||this}return o.d(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(i.a)),a=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}(),c=new(function(e){function t(n,o){void 0===o&&(o=a.now);var i=e.call(this,n,(function(){return t.delegate&&t.delegate!==i?t.delegate.now():o()}))||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return o.d(t,e),t.prototype.schedule=function(n,o,i){return void 0===o&&(o=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,o,i):e.prototype.schedule.call(this,n,o,i)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(a))(r);var s=n(324),u=n(322),l=new u.a((function(e){return e.complete()}));function h(e){return e?function(e){return new u.a((function(t){return e.schedule((function(){return t.complete()}))}))}(e):l}var p=n(416);function d(e,t){return new u.a((function(n){var o=new i.a,r=0;return o.add(t.schedule((function(){r!==e.length?(n.next(e[r++]),n.closed||o.add(this.schedule())):n.complete()}))),o}))}function f(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n,o=e[e.length-1];return(n=o)&&"function"==typeof n.schedule?(e.pop(),d(e,o)):function(e,t){return t?d(e,t):new u.a(Object(p.a)(e))}(e)}var m,g=n(566);m||(m={});var _=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){switch(this.kind){case"N":return f(this.value);case"E":return Object(g.a)(this.error);case"C":return h()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}();function v(e,t){void 0===t&&(t=c);var n,o=(n=e)instanceof Date&&!isNaN(+n)?+e-t.now():Math.abs(e);return function(e){return e.lift(new y(o,t))}}n.d(t,"a",(function(){return v}));var y=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new b(e,this.delay,this.scheduler))},e}(),b=function(e){function t(t,n,o){var i=e.call(this,t)||this;return i.delay=n,i.scheduler=o,i.queue=[],i.active=!1,i.errored=!1,i}return o.d(t,e),t.dispatch=function(e){for(var t=e.source,n=t.queue,o=e.scheduler,i=e.destination;n.length>0&&n[0].time-o.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var r=Math.max(0,n[0].time-o.now());this.schedule(e,r)}else this.unsubscribe(),t.active=!1},t.prototype._schedule=function(e){this.active=!0,this.destination.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler,n=new w(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(_.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.scheduleNotification(_.createComplete()),this.unsubscribe()},t}(s.a),w=function(){return function(e,t){this.time=e,this.notification=t}}()},968:function(e,t,n){"use strict";n.r(t);var o=n(0),i=n.n(o),r=n(3),a=function(){},c=n(352),s=n(322),u=n(957),l=function(e){function t(){var t=e.call(this)||this;return t.requestService=new c.a,t}return Object(r.d)(t,e),t.prototype.login=function(e){return s.a.create((function(e){e.next({token:"loginSuccess",status:!0}),e.complete()})).pipe(Object(u.a)(500))},t}(a),h=n(292),p={SET_LOADING_LOADING:"SET_LOADING_LOADING"};function d(e){return{type:p.SET_LOADING_LOADING,payload:e}}Object(h.a)("LOGIN")(p);var f=n(232),m=n.n(f),g=(n(740),n(308)),_=function(e){function t(t){var n=e.call(this,t)||this;return n.props=t,n.loginService=new l,n.useRefs=function(){return{leftRef:Object(o.useRef)(null),leftCoverRef:Object(o.useRef)(null)}},n.handleSubmit=function(e){n.dispatch(d(!0));var t={username:e.username,password:e.password,vcode:e.vcode,vcodeKey:"vcodeKey"};n.handleLogin(t)},n.handleLogin=function(e){return n.loginService.login(e).subscribe((function(){m.a.success("登录成功"),n.dispatch(d(!1)),n.props.history.push("/home")}))},n}return Object(r.d)(t,e),t}(g.a),v=n(733),y=n.n(v),b={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"},w=n(323),E=function(e,t){return o.createElement(w.a,Object.assign({},e,{ref:t,icon:b}))};E.displayName="UserOutlined";var O=o.forwardRef(E),N={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},j=function(e,t){return o.createElement(w.a,Object.assign({},e,{ref:t,icon:N}))};j.displayName="LockOutlined";var x=o.forwardRef(j),I={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M866.9 169.9L527.1 54.1C523 52.7 517.5 52 512 52s-11 .7-15.1 2.1L157.1 169.9c-8.3 2.8-15.1 12.4-15.1 21.2v482.4c0 8.8 5.7 20.4 12.6 25.9L499.3 968c3.5 2.7 8 4.1 12.6 4.1s9.2-1.4 12.6-4.1l344.7-268.6c6.9-5.4 12.6-17 12.6-25.9V191.1c.2-8.8-6.6-18.3-14.9-21.2zM810 654.3L512 886.5 214 654.3V226.7l298-101.6 298 101.6v427.6zm-405.8-201c-3-4.1-7.8-6.6-13-6.6H336c-6.5 0-10.3 7.4-6.5 12.7l126.4 174a16.1 16.1 0 0026 0l212.6-292.7c3.8-5.3 0-12.7-6.5-12.7h-55.2c-5.1 0-10 2.5-13 6.6L468.9 542.4l-64.7-89.1z"}}]},name:"safety-certificate",theme:"outlined"},S=function(e,t){return o.createElement(w.a,Object.assign({},e,{ref:t,icon:I}))};S.displayName="SafetyCertificateOutlined";var L=o.forwardRef(S),R=n(347),k=n.n(R),C=(n(339),n(363)),A=n.n(C),B=(n(411),n(307)),T=n.n(B),q=(n(309),n(353)),V=n.n(q),z=(n(351),{loginLoading:!1});function D(e,t){void 0===e&&(e=z);var n=t.type,o=t.payload;switch(n){case p.SET_LOADING_LOADING:return Object(r.a)(Object(r.a)({},e),{loginLoading:o});default:return e}}n(61);var M=function(e){var t=Object(g.d)(_,e),n=t.useReducer(D,z).state,r=t.useRefs(),a=r.leftRef,c=r.leftCoverRef,s=Object(o.useCallback)((function(){var e="0 0 "+window.innerHeight+"px "+a.current.clientWidth/2+"px";c.current.style.borderWidth=e}),[]);return Object(o.useEffect)((function(){return s(),window.addEventListener("resize",s),function(){window.removeEventListener("resize",s)}}),[]),i.a.createElement("div",{className:y.a.main},i.a.createElement("section",{className:y.a.left,ref:a},i.a.createElement("div",{className:y.a.stage}),i.a.createElement("div",{className:y.a.leftCover,ref:c})),i.a.createElement("section",{className:y.a.right},i.a.createElement("div",null,i.a.createElement("p",{className:y.a.welcome},"Hello!"),i.a.createElement("p",{className:y.a.siteTitleBox},"欢迎登录",i.a.createElement("strong",null,"某某后台管理系统"))),i.a.createElement("div",{className:y.a.loginBox},i.a.createElement(V.a,{className:"login-form",onFinish:t.handleSubmit,initialValues:{checked:!0}},i.a.createElement(V.a.Item,{rules:[{required:!0,message:"请输入用户名"}]},i.a.createElement(k.a,{prefix:i.a.createElement(O,null),placeholder:"请输入用户名"})),i.a.createElement(V.a.Item,{rules:[{required:!0,message:"请输入登录密码"}]},i.a.createElement(k.a,{prefix:i.a.createElement(x,null),type:"password",placeholder:"请输入登录密码"})),i.a.createElement(V.a.Item,{className:y.a.formFlexItem,rules:[{required:!0,message:"请输入验证码"}]},i.a.createElement(k.a,{prefix:i.a.createElement(L,null),className:y.a.vcodeInput,placeholder:"请输入验证码"}),i.a.createElement("div",{className:y.a.vcodeBox},"验证码")),i.a.createElement(V.a.Item,{className:y.a.formFlexItem,rules:[{required:!0,message:"请输入用户名"}]},i.a.createElement(A.a,null,"七天内免登录"),")",i.a.createElement("a",null,"忘记密码")),i.a.createElement(V.a.Item,null,i.a.createElement(T.a,{type:"primary",htmlType:"submit",loading:n.loginLoading,className:y.a.loginBtn},"登录"),i.a.createElement("a",null,"还没有账号？点击注册"))))))};t.default=M}}]);